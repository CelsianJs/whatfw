(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();let b=null,V=0,A=[];function T(t){let e=t;const n=new Set;function r(...o){if(o.length===0)return b&&(n.add(b),b.deps.push(n)),e;const c=typeof o[0]=="function"?o[0](e):o[0];Object.is(e,c)||(e=c,W(n))}return r.set=o=>{const c=typeof o=="function"?o(e):o;Object.is(e,c)||(e=c,W(n))},r.peek=()=>e,r.subscribe=o=>L(()=>o(r())),r._signal=!0,r}function N(t){let e,n=!0;const r=new Set,o=et(()=>{e=t(),n=!1},!0);function c(){return b&&(r.add(b),b.deps.push(r)),n&&G(o),e}return o._onNotify=()=>{n=!0,W(r)},c._signal=!0,c.peek=()=>(n&&G(o),e),c}function L(t,e){const n=et(t),r=b;b=n;try{const c=n.fn();typeof c=="function"&&(n._cleanup=c)}finally{b=r}return()=>Ct(n)}function Y(t){V++;try{t()}finally{V--,V===0&&rt()}}function et(t,e){return{fn:t,deps:[],lazy:e||!1,_onNotify:null,disposed:!1,_pending:!1,_stable:!1}}function G(t){if(t.disposed)return;if(t._stable){if(t._cleanup){try{t._cleanup()}catch(r){console.warn("[what] Error in effect cleanup:",r)}t._cleanup=null}const n=b;b=null;try{const r=t.fn();typeof r=="function"&&(t._cleanup=r)}finally{b=n}return}if(nt(t),t._cleanup){try{t._cleanup()}catch(n){console.warn("[what] Error in effect cleanup:",n)}t._cleanup=null}const e=b;b=t;try{const n=t.fn();typeof n=="function"&&(t._cleanup=n)}finally{b=e}}function Ct(t){if(t.disposed=!0,nt(t),t._cleanup){try{t._cleanup()}catch(e){console.warn("[what] Error in effect cleanup on dispose:",e)}t._cleanup=null}}function nt(t){const e=t.deps;for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}function W(t){for(const e of t)if(!e.disposed)if(e._onNotify)e._onNotify();else if(V===0&&e._stable){const n=b;b=null;try{const r=e.fn();if(typeof r=="function"){if(e._cleanup)try{e._cleanup()}catch{}e._cleanup=r}}catch(r){console.warn("[what] Error in stable effect:",r)}finally{b=n}}else e._pending||(e._pending=!0,A.push(e));V===0&&A.length>0&&xt()}let R=!1;function xt(){R||(R=!0,queueMicrotask(()=>{R=!1,rt()}))}function rt(){let t=0;for(;A.length>0&&t<100;){const e=A;A=[];for(let n=0;n<e.length;n++){const r=e[n];r._pending=!1,!r.disposed&&!r._onNotify&&G(r)}t++}if(t>=100){{const n=A.slice(0,3).map(r=>{var o,c;return((o=r.fn)==null?void 0:o.name)||((c=r.fn)==null?void 0:c.toString().slice(0,60))||"(anonymous)"});console.warn(`[what] Possible infinite effect loop detected (100 iterations). Likely cause: an effect writes to a signal it also reads, creating a cycle. Use untrack() to read signals without subscribing. Looping effects: ${n.join(", ")}`)}for(let e=0;e<A.length;e++)A[e]._pending=!1;A.length=0}}function wt(t){const e=b;b=null;try{return t()}finally{b=e}}const St={};function K(t,e,...n){e=e||St;const r=st(n),o=e.key??null;return e.key!==void 0&&(e={...e},delete e.key),{tag:t,props:e,children:r,key:o,_vnode:!0}}function st(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];r==null||r===!1||r===!0||(Array.isArray(r)?e.push(...st(r)):typeof r=="object"&&r._vnode||typeof r=="function"?e.push(r):e.push(String(r)))}return e}let P=null;function Et(t){P=t}function Lt(t,e){let n=e||(P==null?void 0:P());for(;n;){if(n._errorBoundary)return n._errorBoundary(t),!0;n=n._parentCtx}return!1}typeof customElements<"u"&&!customElements.get("what-c")&&customElements.define("what-c",class extends HTMLElement{connectedCallback(){this.style.display="contents"}});const Mt=new Set(["svg","path","circle","rect","line","polyline","polygon","ellipse","g","defs","use","symbol","clipPath","mask","pattern","image","text","tspan","textPath","foreignObject","linearGradient","radialGradient","stop","marker","animate","animateTransform","animateMotion","set","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"]),ot="http://www.w3.org/2000/svg",it=new Set;function ct(t){return!t||typeof t!="object"?!1:typeof Node<"u"&&t instanceof Node?!0:typeof t.nodeType=="number"&&typeof t.nodeName=="string"}function ft(t){return!!t&&typeof t=="object"&&(t._vnode===!0||"tag"in t)}function Tt(t){if(!t.disposed){t.disposed=!0;for(const e of t.hooks)if(e&&typeof e=="object"&&"cleanup"in e&&e.cleanup)try{e.cleanup()}catch(n){console.error("[what] cleanup error:",n)}if(t._cleanupCallbacks)for(const e of t._cleanupCallbacks)try{e()}catch(n){console.error("[what] onCleanup error:",n)}for(const e of t.effects)try{e()}catch{}it.delete(t)}}function C(t){if(t){if(t._componentCtx&&Tt(t._componentCtx),t._dispose)try{t._dispose()}catch{}if(t.childNodes)for(const e of t.childNodes)C(e)}}function At(t,e){typeof e=="string"&&(e=document.querySelector(e)),C(e),e.textContent="";const n=S(t,e);return n&&e.appendChild(n),()=>{C(e),e.textContent=""}}function S(t,e,n){if(t==null||t===!1||t===!0)return document.createComment("");if(typeof t=="string"||typeof t=="number")return document.createTextNode(String(t));if(ct(t))return t;if(typeof t=="function"){const s=document.createElement("what-c");let i=!1;const a=L(()=>{const f=t(),u=f==null||f===!1||f===!0?[]:Array.isArray(f)?f:[f];if(i)B(s,u);else{i=!0;for(const d of u){const h=S(d,s,e==null?void 0:e._isSvg);h&&s.appendChild(h)}}});return s._dispose=a,s}if(Array.isArray(t)){const s=document.createDocumentFragment();for(const i of t){const a=S(i,e,n);a&&s.appendChild(a)}return s}if(!ft(t))return document.createTextNode(String(t));if(typeof t.tag=="function")return lt(t,e,n);const r=n||t.tag==="svg"||Mt.has(t.tag),o=r?document.createElementNS(ot,t.tag):document.createElement(t.tag);if(ut(o,t.props,{},r),!(t.props&&(Object.prototype.hasOwnProperty.call(t.props,"dangerouslySetInnerHTML")||Object.prototype.hasOwnProperty.call(t.props,"innerHTML"))))for(const s of t.children){const i=S(s,o,r&&t.tag!=="foreignObject");i&&o.appendChild(i)}return o._vnode=t,o}const x=[];function D(){return x[x.length-1]}Et(D);function lt(t,e,n){const{tag:r,props:o,children:c}=t;if(r==="__errorBoundary"||t.tag==="__errorBoundary")return Ot(t);if(r==="__suspense"||t.tag==="__suspense")return jt(t);if(r==="__portal"||t.tag==="__portal")return kt(t);const s={hooks:[],hookIndex:0,effects:[],cleanups:[],mounted:!1,disposed:!1,Component:r,_parentCtx:x[x.length-1]||null,_errorBoundary:(()=>{let u=x[x.length-1];for(;u;){if(u._errorBoundary)return u._errorBoundary;u=u._parentCtx}return null})()};let i;n?i=document.createElementNS(ot,"g"):i=document.createElement("what-c"),i._componentCtx=s,i._isSvg=!!n,s._wrapper=i,it.add(s);const a=T({...o,children:c});s._propsSignal=a;const f=L(()=>{if(s.disposed)return;s.hookIndex=0,x.push(s);let u;try{u=r(a())}catch(h){if(x.pop(),!Lt(h,s))throw console.error("[what] Uncaught error in component:",r.name||"Anonymous",h),h;return}x.pop();const d=Array.isArray(u)?u:[u];if(s.mounted)B(i,d);else{s.mounted=!0,s._mountCallbacks&&queueMicrotask(()=>{if(!s.disposed)for(const h of s._mountCallbacks)try{h()}catch(m){console.error("[what] onMount error:",m)}});for(const h of d){const m=S(h,i,n);m&&i.appendChild(m)}}});return s.effects.push(f),i._vnode=t,i}function Ot(t,e){const{errorState:n,handleError:r,fallback:o,reset:c}=t.props,s=t.children,i=document.createElement("what-c");i.style.display="contents";const a={hooks:[],hookIndex:0,effects:[],cleanups:[],mounted:!1,disposed:!1,_parentCtx:x[x.length-1]||null,_errorBoundary:r};i._componentCtx=a;const f=L(()=>{const u=n();x.push(a);let d;if(u?d=typeof o=="function"?[o({error:u,reset:c})]:[o]:d=s,x.pop(),d=Array.isArray(d)?d:[d],i.childNodes.length===0)for(const h of d){const m=S(h,i);m&&i.appendChild(m)}else B(i,d)});return a.effects.push(f),i}function jt(t,e){const{boundary:n,fallback:r,loading:o}=t.props,c=t.children,s=document.createElement("what-c");s.style.display="contents";const i={hooks:[],hookIndex:0,effects:[],cleanups:[],mounted:!1,disposed:!1,_parentCtx:x[x.length-1]||null};s._componentCtx=i;const a=L(()=>{const u=o()?[r]:c,d=Array.isArray(u)?u:[u];if(s.childNodes.length===0)for(const h of d){const m=S(h,s);m&&s.appendChild(m)}else B(s,d)});return i.effects.push(a),s}function kt(t,e){const{container:n}=t.props,r=t.children;if(!n)return console.warn("[what] Portal: target container not found"),document.createComment("portal:empty");const o={hooks:[],hookIndex:0,effects:[],cleanups:[],mounted:!1,disposed:!1,_parentCtx:x[x.length-1]||null},c=document.createComment("portal");c._componentCtx=o;const s=[];for(const i of r){const a=S(i,n);a&&(n.appendChild(a),s.push(a))}return o._cleanupCallbacks=[()=>{for(const i of s)C(i),i.parentNode&&i.parentNode.removeChild(i)}],c}function Ht(t,e,n,r){var O,j;const o=new Map;for(let p=0;p<e.length;p++){const w=e[p],E=(O=w._vnode)==null?void 0:O.key;E!=null&&o.set(E,{node:w,index:p})}const c=[],s=n.length,i=new Array(s).fill(-1),a=new Set;for(let p=0;p<s;p++){const w=n[p],E=w==null?void 0:w.key;if(E!=null&&o.has(E)){const{node:k,index:M}=o.get(E);i[p]=M,a.add(M)}}for(let p=0;p<e.length;p++)!a.has(p)&&((j=e[p])!=null&&j.parentNode)&&(C(e[p]),e[p].parentNode.removeChild(e[p]));const f=[],u=[];for(let p=0;p<i.length;p++)i[p]!==-1&&(u.push(p),f.push(i[p]));const d=It(f),h=new Set(d.map(p=>u[p]));let m=null;for(let p=s-1;p>=0;p--){const w=n[p],E=w==null?void 0:w.key,k=E!=null?o.get(E):null;if(k&&i[p]!==-1){const M=k.node,H=U(t,M,w);c[p]=H,!h.has(p)&&H.parentNode&&t.insertBefore(H,m),m=H}else{const M=S(w,t);M&&(t.insertBefore(M,m),m=M),c[p]=M}}e.length=0,e.push(...c.filter(Boolean))}function It(t){if(t.length===0)return[];const e=t.length;new Array(e).fill(1);const n=new Array(e).fill(-1),r=[0];for(let s=1;s<e;s++)if(t[s]>t[r[r.length-1]])n[s]=r[r.length-1],r.push(s);else{let i=0,a=r.length-1;for(;i<a;){const f=i+a>>1;t[r[f]]<t[s]?i=f+1:a=f}t[s]<t[r[i]]&&(i>0&&(n[s]=r[i-1]),r[i]=s)}const o=[];let c=r[r.length-1];for(;c!==-1;)o.push(c),c=n[c];return o.reverse()}function Q(t,e){const n=e._arrayEnd;if(!n)return null;let r=e.nextSibling;for(;r&&r!==n;){const o=r.nextSibling;C(r),t.removeChild(r),r=o}return n.parentNode&&t.removeChild(n),e}function U(t,e,n){var o,c;if(n==null||n===!1||n===!0){if(e&&e.nodeType===8&&e._arrayEnd){Q(t,e);const i=document.createComment("");return t.replaceChild(i,e),i}if(e&&e.nodeType===8&&!e._componentCtx)return e;const s=document.createComment("");return e&&e.parentNode&&(C(e),t.replaceChild(s,e)),s}if(typeof n=="function"){const s=document.createElement("what-c");let i=!1;const a=L(()=>{const f=n(),u=f==null||f===!1||f===!0?[]:Array.isArray(f)?f:[f];if(i)B(s,u);else{i=!0;for(const d of u){const h=S(d,s);h&&s.appendChild(h)}}});return s._dispose=a,e&&e.parentNode&&(C(e),t.replaceChild(s,e)),s}if(ct(n))return e===n?e:(e&&e.parentNode&&(C(e),t.replaceChild(n,e)),n);if(typeof n=="string"||typeof n=="number"){const s=String(n);if(e&&e.nodeType===8&&e._arrayEnd){Q(t,e);const a=document.createTextNode(s);return t.replaceChild(a,e),a}if(e.nodeType===3)return e.textContent!==s&&(e.textContent=s),e;const i=document.createTextNode(s);return C(e),t.replaceChild(i,e),i}if(Array.isArray(n)){if(e&&e.nodeType===8&&e._arrayEnd){const a=e._arrayEnd,f=[];let u=e.nextSibling;for(;u&&u!==a;)f.push(u),u=u.nextSibling;const d=Math.max(f.length,n.length);for(let h=0;h<d;h++)if(h>=n.length)(o=f[h])!=null&&o.parentNode&&(C(f[h]),t.removeChild(f[h]));else if(h>=f.length){const m=S(n[h],t);m&&t.insertBefore(m,a)}else U(t,f[h],n[h]);return e}const s=document.createComment("["),i=document.createComment("]");C(e),t.replaceChild(i,e),t.insertBefore(s,i);for(const a of n){const f=S(a,t);f&&t.insertBefore(f,i)}return s._arrayEnd=i,s}if(!ft(n)){const s=String(n);if(e.nodeType===3)return e.textContent!==s&&(e.textContent=s),e;const i=document.createTextNode(s);return C(e),t.replaceChild(i,e),i}if(typeof n.tag=="function"){if(e._componentCtx&&!e._componentCtx.disposed&&e._componentCtx.Component===n.tag)return e._componentCtx._propsSignal.set({...n.props,children:n.children}),e._vnode=n,e;C(e);const s=lt(n);return t.replaceChild(s,e),s}if(e.nodeType===1&&e.tagName.toLowerCase()===n.tag){const s=((c=e._vnode)==null?void 0:c.props)||{},i=n.props||{},a=Object.prototype.hasOwnProperty.call(s,"dangerouslySetInnerHTML")||Object.prototype.hasOwnProperty.call(s,"innerHTML"),f=Object.prototype.hasOwnProperty.call(i,"dangerouslySetInnerHTML")||Object.prototype.hasOwnProperty.call(i,"innerHTML");if(f&&!a)for(const u of Array.from(e.childNodes))C(u);return ut(e,i,s),f||B(e,n.children),e._vnode=n,e}const r=S(n,t);return C(e),t.replaceChild(r,e),r}function B(t,e){var o;const n=Array.from(t.childNodes);if(e.some(c=>c&&typeof c=="object"&&c.key!=null))Ht(t,n,e);else{const c=Math.max(n.length,e.length);for(let s=0;s<c;s++){if(s>=e.length){(o=n[s])!=null&&o.parentNode&&(C(n[s]),t.removeChild(n[s]));continue}if(s>=n.length){const i=S(e[s],t);i&&t.appendChild(i);continue}U(t,n[s],e[s])}}}function ut(t,e,n,r){e=e||{},n=n||{};for(const o in n)o==="key"||o==="ref"||o==="children"||o in e||$t(t,o,n[o]);for(const o in e)o==="key"||o==="ref"||o==="children"||e[o]!==n[o]&&Bt(t,o,e[o],r);e.ref&&e.ref!==n.ref&&(typeof e.ref=="function"?e.ref(t):e.ref.current=t)}function Bt(t,e,n,r){var o;if(e.startsWith("on")&&e.length>2){const c=e.slice(2).toLowerCase(),s=(o=t._events)==null?void 0:o[c];if(s&&s._original===n)return;s&&t.removeEventListener(c,s),t._events||(t._events={});const i=f=>wt(()=>n(f));i._original=n,t._events[c]=i;const a=n._eventOpts;t.addEventListener(c,i,a||void 0);return}if(e==="className"||e==="class"){r?t.setAttribute("class",n||""):t.className=n||"";return}if(e==="style"){if(typeof n=="string")t.style.cssText=n,t._prevStyle=null;else if(typeof n=="object"){const c=t._prevStyle||{};for(const s in c)s in n||(t.style[s]="");for(const s in n)t.style[s]=n[s]??"";t._prevStyle={...n}}return}if(e==="dangerouslySetInnerHTML"){t.innerHTML=(n==null?void 0:n.__html)??"";return}if(e==="innerHTML"){n&&typeof n=="object"&&"__html"in n?t.innerHTML=n.__html??"":t.innerHTML=n??"";return}if(typeof n=="boolean"){n?t.setAttribute(e,""):t.removeAttribute(e);return}if(e.startsWith("data-")||e.startsWith("aria-")){t.setAttribute(e,n);return}if(r){n===!1||n==null?t.removeAttribute(e):t.setAttribute(e,n===!0?"":String(n));return}e in t?t[e]=n:t.setAttribute(e,n)}function $t(t,e,n){var r;if(e.startsWith("on")&&e.length>2){const o=e.slice(2).toLowerCase();(r=t._events)!=null&&r[o]&&(t.removeEventListener(o,t._events[o]),delete t._events[o]);return}if(e==="className"||e==="class"){t.className="";return}if(e==="style"){t.style.cssText="",t._prevStyle=null;return}if(e==="dangerouslySetInnerHTML"||e==="innerHTML"){t.innerHTML="";return}t.removeAttribute(e)}function Vt(t){const e=document.createElement("template");return e.innerHTML=t.trim(),()=>e.content.firstChild.cloneNode(!0)}function X(t,e,n){if(typeof e=="function"){let r=null;return L(()=>{r=v(t,e(),r,n||null)}),r}return v(t,e,null,n||null)}function Dt(t){return!t||typeof t!="object"?!1:typeof Node<"u"&&t instanceof Node?!0:typeof t.nodeType=="number"&&typeof t.nodeName=="string"}function Ft(t){return!!t&&typeof t=="object"&&(t._vnode===!0||"tag"in t)}function Nt(t){return typeof SVGElement<"u"&&t instanceof SVGElement&&t.tagName.toLowerCase()!=="foreignobject"}function Z(t){return t==null?[]:Array.isArray(t)?t:[t]}function at(t,e,n){if(t==null||typeof t=="boolean")return n;if(Array.isArray(t)){for(let r=0;r<t.length;r++)at(t[r],e,n);return n}return typeof t=="string"||typeof t=="number"?(n.push(document.createTextNode(String(t))),n):Dt(t)?(n.push(t),n):Ft(t)?(n.push(S(t,e,Nt(e))),n):(n.push(document.createTextNode(String(t))),n)}function Pt(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function v(t,e,n,r){const o=r||null;if(e==null||typeof e=="boolean"){const f=Z(n);for(let u=0;u<f.length;u++){const d=f[u];d.parentNode===t&&(C(d),t.removeChild(d))}return null}if((typeof e=="string"||typeof e=="number")&&n&&!Array.isArray(n)&&n.nodeType===3){const f=String(e);return n.textContent!==f&&(n.textContent=f),n}const c=at(e,t,[]),s=Z(n);if(Pt(s,c))return n;const i=new Set(c);for(let f=0;f<s.length;f++){const u=s[f];!i.has(u)&&u.parentNode===t&&(C(u),t.removeChild(u))}let a=o;for(let f=c.length-1;f>=0;f--){const u=c[f];(u.parentNode!==t||u.nextSibling!==a)&&t.insertBefore(u,a),a=u}return c.length===0?null:c.length===1?c[0]:c}function Rt(t,e){for(const n in e){const r=e[n];if(n.startsWith("on")&&n.length>2){const o=n.slice(2).toLowerCase();t.addEventListener(o,r);continue}typeof r=="function"&&!n.startsWith("on")?n==="class"||n==="className"?L(()=>{t.className=r()||""}):n==="style"&&typeof r()=="object"?L(()=>{const o=r();for(const c in o)t.style[c]=o[c]??""}):L(()=>{I(t,n,r())}):I(t,n,r)}}function I(t,e,n){if(e==="class"||e==="className")t.className=n||"";else if(e==="dangerouslySetInnerHTML")t.innerHTML=(n==null?void 0:n.__html)??"";else if(e==="innerHTML")n&&typeof n=="object"&&"__html"in n?t.innerHTML=n.__html??"":t.innerHTML=n??"";else if(e==="style"){if(typeof n=="string")t.style.cssText=n;else if(typeof n=="object")for(const r in n)t.style[r]=n[r]??""}else e.startsWith("data-")||e.startsWith("aria-")?t.setAttribute(e,n):typeof n=="boolean"?n?t.setAttribute(e,""):t.removeAttribute(e):e in t?t[e]=n:t.setAttribute(e,n)}function qt(){const t=D();if(!t)throw new Error("[what] Hooks must be called inside a component function. If you need reactive state outside a component, use signal() directly.");return t}function Gt(t){const e=t.hookIndex++;return{index:e,exists:e<t.hooks.length}}function q(t){const e=qt(),{index:n,exists:r}=Gt(e);return r||(e.hooks[n]=T(typeof t=="function"?t():t)),e.hooks[n]}function Wt(t={}){const e=D==null?void 0:D();if(e){const n=e.hookIndex++;return e.hooks[n]||(e.hooks[n]=tt(t)),e.hooks[n]}return tt(t)}function tt(t={}){const{defaultValues:e={},mode:n="onSubmit",reValidateMode:r="onChange",resolver:o}=t,c={},s={},i={},a=T({});function f(l){return c[l]||(c[l]=T(e[l]??"")),c[l]}function u(l){return s[l]||(s[l]=T(null)),s[l]}function d(l){return i[l]||(i[l]=T(!1)),i[l]}const h=T(!1),m=T(!1),O=T(!1),j=T(0);function p(l=!1){const y={...e};for(const[g,_]of Object.entries(c))y[g]=l?_():_.peek();return y}function w(l=!1){return l?a():a.peek()}function E(l,y){const g=y??null;u(l).set(g),a.set(_=>{if(_[l]===g)return _;if(g==null){if(!Object.prototype.hasOwnProperty.call(_,l))return _;const J={..._};return delete J[l],J}return{..._,[l]:g}})}function k(l={}){const y=l||{};Y(()=>{for(const[g,_]of Object.entries(s))Object.prototype.hasOwnProperty.call(y,g)||_.set(null);for(const[g,_]of Object.entries(y))u(g).set(_??null);a.set({...y})})}const M=N(()=>Object.keys(w(!0)).length===0),H=N(()=>{const l={};for(const[y,g]of Object.entries(c))g()!==(e[y]??"")&&(l[y]=!0);return l});async function $(l){if(!o)return!0;const y=await o(p(!1)),g=(y==null?void 0:y.errors)||{};if(l){const _=g[l]??null;return E(l,_),!_}else return k(g),Object.keys(g).length===0}function pt(l,y={}){const g=f(l);return{name:l,get value(){return g()},onInput:_=>{const F=_.target.type==="checkbox"?_.target.checked:_.target.value;z(l,F),(n==="onChange"||O.peek()&&r==="onChange")&&$(l)},onBlur:()=>{d(l).set(!0),(n==="onBlur"||O.peek()&&r==="onBlur")&&$(l)},onFocus:()=>{},ref:y.ref}}function z(l,y,g={}){const{shouldValidate:_=!1,shouldDirty:F=!0}=g;f(l).set(y),F&&h.set(!0),_&&$(l)}function ht(l){return f(l)()}function dt(l,y){E(l,y)}function yt(l){E(l,null)}function gt(){k({})}function mt(l=e){Y(()=>{for(const[y,g]of Object.entries(c))g.set(l[y]??"");for(const y of Object.values(s))y.set(null);a.set({});for(const y of Object.values(i))y.set(!1);h.set(!1),O.set(!1)})}function _t(l,y){return async g=>{g&&g.preventDefault(),m.set(!0),O.set(!0),j.set(j.peek()+1),await $()?await l(p()):y&&y(w(!1)),m.set(!1)}}function bt(l){return N(l?()=>f(l)():()=>p(!0))}return{register:pt,handleSubmit:_t,setValue:z,getValue:ht,setError:dt,clearError:yt,clearErrors:gt,reset:mt,watch:bt,validate:$,formState:{get values(){return p(!0)},get errors(){return w(!0)},error:l=>u(l)(),get touched(){const l={};for(const[y,g]of Object.entries(i))g()&&(l[y]=!0);return l},isDirty:()=>h(),isValid:M,isSubmitting:()=>m(),isSubmitted:()=>O(),submitCount:()=>j(),dirtyFields:H}}}function Kt(t){return async e=>{const n={};for(const[r,o]of Object.entries(t)){const c=e[r];for(const s of o){const i=s(c,e);if(i){n[r]={type:"validation",message:i};break}}}return{values:e,errors:n}}}const Ut={required:(t="This field is required")=>e=>{if(e==null||e==="")return t},minLength:(t,e)=>n=>{if(typeof n=="string"&&n.length<t)return e||`Must be at least ${t} characters`},maxLength:(t,e)=>n=>{if(typeof n=="string"&&n.length>t)return e||`Must be at most ${t} characters`},min:(t,e)=>n=>{if(typeof n=="number"&&n<t)return e||`Must be at least ${t}`},max:(t,e)=>n=>{if(typeof n=="number"&&n>t)return e||`Must be at most ${t}`},pattern:(t,e="Invalid format")=>n=>{if(typeof n=="string"&&!t.test(n))return e},email:(t="Invalid email address")=>e=>{if(typeof e=="string"&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return t},url:(t="Invalid URL")=>e=>{try{typeof e=="string"&&e&&new URL(e)}catch{return t}},match:(t,e)=>(n,r)=>{if(n!==r[t])return e||`Must match ${t}`},custom:t=>t};function zt({name:t,formState:e,errors:n,render:r}){var c;const o=e&&typeof e.error=="function"?e.error(t):((c=(e==null?void 0:e.errors)!=null?e.errors:typeof n=="function"?n():n)==null?void 0:c[t])||null;return o?r?r({message:o.message,type:o.type}):K("span",{class:"what-error",role:"alert"},o.message):null}const Jt=Vt('<main><h1>Loop Validation</h1><label>Step:<input></label><label><input type="checkbox">Checked now:<!--$--></label><section></section><section></section><form><input placeholder="name"><!--$--><button type="submit">Submit</button></form></main>');function Yt(){const t=q(0),e=q(!1),n=q("<strong>safe html</strong>"),r=Wt({mode:"onChange",defaultValues:{name:""},resolver:Kt({name:[Ut.required("Name required")]})});return(()=>{const o=Jt(),s=o.childNodes[1].childNodes[1];L(()=>I(s,"value",t())),s.addEventListener("input",m=>t(Number(m.target.value)||0));const i=o.childNodes[2],a=i.childNodes[0];L(()=>I(a,"checked",e())),a.addEventListener("input",m=>e(m.target.checked)),X(i,()=>e()?"yes":"no",i.childNodes[2]);const f=o.childNodes[3];L(()=>I(f,"innerHTML",n()));const u=o.childNodes[4];I(u,"dangerouslySetInnerHTML",{__html:n()});const d=o.childNodes[5];d.addEventListener("submit",r.handleSubmit(()=>{}));const h=d.childNodes[0];return Rt(h,r.register("name")),X(d,K(zt,{name:"name",formState:r.formState}),d.childNodes[1]),o})()}At(K(Yt,null),"#app");
