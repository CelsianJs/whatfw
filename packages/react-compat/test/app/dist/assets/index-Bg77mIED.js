(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();let _=null,R=0,S=[];function P(e){let t=e;const n=new Set;function r(...o){if(o.length===0)return _&&(n.add(_),_.deps.push(n)),t;const i=typeof o[0]=="function"?o[0](t):o[0];Object.is(t,i)||(t=i,le(n))}return r.set=o=>{const i=typeof o=="function"?o(t):o;Object.is(t,i)||(t=i,le(n))},r.peek=()=>t,r.subscribe=o=>k(()=>o(r())),r._signal=!0,r}function k(e,t){const n=Ue(e),r=_;_=n;try{const i=n.fn();typeof i=="function"&&(n._cleanup=i)}finally{_=r}return()=>We(n)}function _e(e){R++;try{e()}finally{R--,R===0&&xe()}}function Ue(e,t){return{fn:e,deps:[],lazy:!1,_onNotify:null,disposed:!1,_pending:!1,_stable:!1}}function qe(e){if(e.disposed)return;if(e._stable){if(e._cleanup){try{e._cleanup()}catch(r){console.warn("[what] Error in effect cleanup:",r)}e._cleanup=null}const n=_;_=null;try{const r=e.fn();typeof r=="function"&&(e._cleanup=r)}finally{_=n}return}if(Ce(e),e._cleanup){try{e._cleanup()}catch(n){console.warn("[what] Error in effect cleanup:",n)}e._cleanup=null}const t=_;_=e;try{const n=e.fn();typeof n=="function"&&(e._cleanup=n)}finally{_=t}}function We(e){if(e.disposed=!0,Ce(e),e._cleanup){try{e._cleanup()}catch(t){console.warn("[what] Error in effect cleanup on dispose:",t)}e._cleanup=null}}function Ce(e){const t=e.deps;for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}function le(e){for(const t of e)if(!t.disposed)if(t._onNotify)t._onNotify();else if(R===0&&t._stable){const n=_;_=null;try{const r=t.fn();if(typeof r=="function"){if(t._cleanup)try{t._cleanup()}catch{}t._cleanup=r}}catch(r){console.warn("[what] Error in stable effect:",r)}finally{_=n}}else t._pending||(t._pending=!0,S.push(t));R===0&&S.length>0&&De()}let Q=!1;function De(){Q||(Q=!0,queueMicrotask(()=>{Q=!1,xe()}))}function xe(){let e=0;for(;S.length>0&&e<100;){const t=S;S=[];for(let n=0;n<t.length;n++){const r=t[n];r._pending=!1,!r.disposed&&!r._onNotify&&qe(r)}e++}if(e>=100){{const n=S.slice(0,3).map(r=>{var o,i;return((o=r.fn)==null?void 0:o.name)||((i=r.fn)==null?void 0:i.toString().slice(0,60))||"(anonymous)"});console.warn(`[what] Possible infinite effect loop detected (100 iterations). Likely cause: an effect writes to a signal it also reads, creating a cycle. Use untrack() to read signals without subscribing. Looping effects: ${n.join(", ")}`)}for(let t=0;t<S.length;t++)S[t]._pending=!1;S.length=0}}function Ke(e){const t=_;_=null;try{return e()}finally{_=t}}const Ge={};function E(e,t,...n){t=t||Ge;const r=we(n),o=t.key??null;return t.key!==void 0&&(t={...t},delete t.key),{tag:e,props:t,children:r,key:o,_vnode:!0}}function be({children:e}){return e}function we(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];r==null||r===!1||r===!0||(Array.isArray(r)?t.push(...we(r)):typeof r=="object"&&r._vnode||typeof r=="function"?t.push(r):t.push(String(r)))}return t}function Ze(e,t){const n=t||Je;function r(o){const i=A==null?void 0:A();if(i&&i._memoResult!==void 0&&o!==i._memoPropsRef){if(n(i._memoProps,o))return i._memoPropsRef=o,i._memoResult}i&&(i._memoPropsRef=o,i._memoProps={...o});const s=e(o);return i&&(i._memoResult=s),s}return r.displayName=`Memo(${e.name||"Anonymous"})`,r}let A=null;function Ye(e){A=e}function Je(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n)if(!Object.is(e[o],t[o]))return!1;return!0}function Qe(e){let t=null,n=null,r=null;const o=new Set;function i(s){if(r)throw r;if(t)return E(t,s);throw n||(n=e().then(c=>{t=c.default||c,o.forEach(u=>u()),o.clear()}).catch(c=>{r=c})),n}return i.displayName="Lazy",i._lazy=!0,i._onLoad=s=>{t?s():o.add(s)},i}function Xe({fallback:e,children:t}){const n=P(!1),r=new Set;return{tag:"__suspense",props:{boundary:{_suspense:!0,onSuspend(i){n.set(!0),r.add(i),i.finally(()=>{r.delete(i),r.size===0&&n.set(!1)})}},fallback:e,loading:n},children:Array.isArray(t)?t:[t],_vnode:!0}}function ve(e,t){let n=t||(A==null?void 0:A());for(;n;){if(n._errorBoundary)return n._errorBoundary(e),!0;n=n._parentCtx}return!1}typeof customElements<"u"&&!customElements.get("what-c")&&customElements.define("what-c",class extends HTMLElement{connectedCallback(){this.style.display="contents"}});const et=new Set(["svg","path","circle","rect","line","polyline","polygon","ellipse","g","defs","use","symbol","clipPath","mask","pattern","image","text","tspan","textPath","foreignObject","linearGradient","radialGradient","stop","marker","animate","animateTransform","animateMotion","set","filter","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"]),Se="http://www.w3.org/2000/svg",Ee=new Set;function Me(e){return!e||typeof e!="object"?!1:typeof Node<"u"&&e instanceof Node?!0:typeof e.nodeType=="number"&&typeof e.nodeName=="string"}function Te(e){return!!e&&typeof e=="object"&&(e._vnode===!0||"tag"in e)}function tt(e){if(!e.disposed){e.disposed=!0;for(const t of e.hooks)if(t&&typeof t=="object"&&"cleanup"in t&&t.cleanup)try{t.cleanup()}catch(n){console.error("[what] cleanup error:",n)}if(e._cleanupCallbacks)for(const t of e._cleanupCallbacks)try{t()}catch(n){console.error("[what] onCleanup error:",n)}for(const t of e.effects)try{t()}catch{}Ee.delete(e)}}function m(e){if(e){if(e._componentCtx&&tt(e._componentCtx),e._dispose)try{e._dispose()}catch{}if(e.childNodes)for(const t of e.childNodes)m(t)}}function nt(e,t){typeof t=="string"&&(t=document.querySelector(t)),m(t),t.textContent="";const n=b(e,t);return n&&t.appendChild(n),()=>{m(t),t.textContent=""}}function b(e,t,n){if(e==null||e===!1||e===!0)return document.createComment("");if(typeof e=="string"||typeof e=="number")return document.createTextNode(String(e));if(Me(e))return e;if(typeof e=="function"){const s=document.createElement("what-c");let c=!1;const u=k(()=>{const f=e(),l=f==null||f===!1||f===!0?[]:Array.isArray(f)?f:[f];if(c)L(s,l);else{c=!0;for(const a of l){const h=b(a,s,t==null?void 0:t._isSvg);h&&s.appendChild(h)}}});return s._dispose=u,s}if(Array.isArray(e)){const s=document.createDocumentFragment();for(const c of e){const u=b(c,t,n);u&&s.appendChild(u)}return s}if(!Te(e))return document.createTextNode(String(e));if(typeof e.tag=="function")return Ae(e,t,n);const r=n||e.tag==="svg"||et.has(e.tag),o=r?document.createElementNS(Se,e.tag):document.createElement(e.tag);if(ke(o,e.props,{},r),!(e.props&&(Object.prototype.hasOwnProperty.call(e.props,"dangerouslySetInnerHTML")||Object.prototype.hasOwnProperty.call(e.props,"innerHTML"))))for(const s of e.children){const c=b(s,o,r&&e.tag!=="foreignObject");c&&o.appendChild(c)}return o._vnode=e,o}const C=[];function te(){return C[C.length-1]}Ye(te);function Ae(e,t,n){const{tag:r,props:o,children:i}=e;if(r==="__errorBoundary"||e.tag==="__errorBoundary")return rt(e);if(r==="__suspense"||e.tag==="__suspense")return ot(e);if(r==="__portal"||e.tag==="__portal")return st(e);const s={hooks:[],hookIndex:0,effects:[],cleanups:[],mounted:!1,disposed:!1,Component:r,_parentCtx:C[C.length-1]||null,_errorBoundary:(()=>{let l=C[C.length-1];for(;l;){if(l._errorBoundary)return l._errorBoundary;l=l._parentCtx}return null})()};let c;n?c=document.createElementNS(Se,"g"):c=document.createElement("what-c"),c._componentCtx=s,c._isSvg=!!n,s._wrapper=c,Ee.add(s);const u=P({...o,children:i});s._propsSignal=u;const f=k(()=>{if(s.disposed)return;s.hookIndex=0,C.push(s);let l;try{l=r(u())}catch(h){if(C.pop(),!ve(h,s))throw console.error("[what] Uncaught error in component:",r.name||"Anonymous",h),h;return}C.pop();const a=Array.isArray(l)?l:[l];if(s.mounted)L(c,a);else{s.mounted=!0,s._mountCallbacks&&queueMicrotask(()=>{if(!s.disposed)for(const h of s._mountCallbacks)try{h()}catch(p){console.error("[what] onMount error:",p)}});for(const h of a){const p=b(h,c,n);p&&c.appendChild(p)}}});return s.effects.push(f),c._vnode=e,c}function rt(e,t){const{errorState:n,handleError:r,fallback:o,reset:i}=e.props,s=e.children,c=document.createElement("what-c");c.style.display="contents";const u={hooks:[],hookIndex:0,effects:[],cleanups:[],mounted:!1,disposed:!1,_parentCtx:C[C.length-1]||null,_errorBoundary:r};c._componentCtx=u;const f=k(()=>{const l=n();C.push(u);let a;if(l?a=typeof o=="function"?[o({error:l,reset:i})]:[o]:a=s,C.pop(),a=Array.isArray(a)?a:[a],c.childNodes.length===0)for(const h of a){const p=b(h,c);p&&c.appendChild(p)}else L(c,a)});return u.effects.push(f),c}function ot(e,t){const{boundary:n,fallback:r,loading:o}=e.props,i=e.children,s=document.createElement("what-c");s.style.display="contents";const c={hooks:[],hookIndex:0,effects:[],cleanups:[],mounted:!1,disposed:!1,_parentCtx:C[C.length-1]||null};s._componentCtx=c;const u=k(()=>{const l=o()?[r]:i,a=Array.isArray(l)?l:[l];if(s.childNodes.length===0)for(const h of a){const p=b(h,s);p&&s.appendChild(p)}else L(s,a)});return c.effects.push(u),s}function st(e,t){const{container:n}=e.props,r=e.children;if(!n)return console.warn("[what] Portal: target container not found"),document.createComment("portal:empty");const o={hooks:[],hookIndex:0,effects:[],cleanups:[],mounted:!1,disposed:!1,_parentCtx:C[C.length-1]||null},i=document.createComment("portal");i._componentCtx=o;const s=[];for(const c of r){const u=b(c,n);u&&(n.appendChild(u),s.push(u))}return o._cleanupCallbacks=[()=>{for(const c of s)m(c),c.parentNode&&c.parentNode.removeChild(c)}],i}function it(e,t,n,r){var N,z;const o=new Map;for(let d=0;d<t.length;d++){const x=t[d],w=(N=x._vnode)==null?void 0:N.key;w!=null&&o.set(w,{node:x,index:d})}const i=[],s=n.length,c=new Array(s).fill(-1),u=new Set;for(let d=0;d<s;d++){const x=n[d],w=x==null?void 0:x.key;if(w!=null&&o.has(w)){const{node:M,index:y}=o.get(w);c[d]=y,u.add(y)}}for(let d=0;d<t.length;d++)!u.has(d)&&((z=t[d])!=null&&z.parentNode)&&(m(t[d]),t[d].parentNode.removeChild(t[d]));const f=[],l=[];for(let d=0;d<c.length;d++)c[d]!==-1&&(l.push(d),f.push(c[d]));const a=ct(f),h=new Set(a.map(d=>l[d]));let p=null;for(let d=s-1;d>=0;d--){const x=n[d],w=x==null?void 0:x.key,M=w!=null?o.get(w):null;if(M&&c[d]!==-1){const y=M.node,g=ne(e,y,x);i[d]=g,!h.has(d)&&g.parentNode&&e.insertBefore(g,p),p=g}else{const y=b(x,e);y&&(e.insertBefore(y,p),p=y),i[d]=y}}t.length=0,t.push(...i.filter(Boolean))}function ct(e){if(e.length===0)return[];const t=e.length;new Array(t).fill(1);const n=new Array(t).fill(-1),r=[0];for(let s=1;s<t;s++)if(e[s]>e[r[r.length-1]])n[s]=r[r.length-1],r.push(s);else{let c=0,u=r.length-1;for(;c<u;){const f=c+u>>1;e[r[f]]<e[s]?c=f+1:u=f}e[s]<e[r[c]]&&(c>0&&(n[s]=r[c-1]),r[c]=s)}const o=[];let i=r[r.length-1];for(;i!==-1;)o.push(i),i=n[i];return o.reverse()}function ue(e,t){const n=t._arrayEnd;if(!n)return null;let r=t.nextSibling;for(;r&&r!==n;){const o=r.nextSibling;m(r),e.removeChild(r),r=o}return n.parentNode&&e.removeChild(n),t}function ne(e,t,n){var o,i;if(n==null||n===!1||n===!0){if(t&&t.nodeType===8&&t._arrayEnd){ue(e,t);const c=document.createComment("");return e.replaceChild(c,t),c}if(t&&t.nodeType===8&&!t._componentCtx)return t;const s=document.createComment("");return t&&t.parentNode&&(m(t),e.replaceChild(s,t)),s}if(typeof n=="function"){const s=document.createElement("what-c");let c=!1;const u=k(()=>{const f=n(),l=f==null||f===!1||f===!0?[]:Array.isArray(f)?f:[f];if(c)L(s,l);else{c=!0;for(const a of l){const h=b(a,s);h&&s.appendChild(h)}}});return s._dispose=u,t&&t.parentNode&&(m(t),e.replaceChild(s,t)),s}if(Me(n))return t===n?t:(t&&t.parentNode&&(m(t),e.replaceChild(n,t)),n);if(typeof n=="string"||typeof n=="number"){const s=String(n);if(t&&t.nodeType===8&&t._arrayEnd){ue(e,t);const u=document.createTextNode(s);return e.replaceChild(u,t),u}if(t.nodeType===3)return t.textContent!==s&&(t.textContent=s),t;const c=document.createTextNode(s);return m(t),e.replaceChild(c,t),c}if(Array.isArray(n)){if(t&&t.nodeType===8&&t._arrayEnd){const u=t._arrayEnd,f=[];let l=t.nextSibling;for(;l&&l!==u;)f.push(l),l=l.nextSibling;const a=Math.max(f.length,n.length);for(let h=0;h<a;h++)if(h>=n.length)(o=f[h])!=null&&o.parentNode&&(m(f[h]),e.removeChild(f[h]));else if(h>=f.length){const p=b(n[h],e);p&&e.insertBefore(p,u)}else ne(e,f[h],n[h]);return t}const s=document.createComment("["),c=document.createComment("]");m(t),e.replaceChild(c,t),e.insertBefore(s,c);for(const u of n){const f=b(u,e);f&&e.insertBefore(f,c)}return s._arrayEnd=c,s}if(!Te(n)){const s=String(n);if(t.nodeType===3)return t.textContent!==s&&(t.textContent=s),t;const c=document.createTextNode(s);return m(t),e.replaceChild(c,t),c}if(typeof n.tag=="function"){if(t._componentCtx&&!t._componentCtx.disposed&&t._componentCtx.Component===n.tag)return t._componentCtx._propsSignal.set({...n.props,children:n.children}),t._vnode=n,t;m(t);const s=Ae(n);return e.replaceChild(s,t),s}if(t.nodeType===1&&t.tagName.toLowerCase()===n.tag){const s=((i=t._vnode)==null?void 0:i.props)||{},c=n.props||{},u=Object.prototype.hasOwnProperty.call(s,"dangerouslySetInnerHTML")||Object.prototype.hasOwnProperty.call(s,"innerHTML"),f=Object.prototype.hasOwnProperty.call(c,"dangerouslySetInnerHTML")||Object.prototype.hasOwnProperty.call(c,"innerHTML");if(f&&!u)for(const l of Array.from(t.childNodes))m(l);return ke(t,c,s),f||L(t,n.children),t._vnode=n,t}const r=b(n,e);return m(t),e.replaceChild(r,t),r}function L(e,t){var o;const n=Array.from(e.childNodes);if(t.some(i=>i&&typeof i=="object"&&i.key!=null))it(e,n,t);else{const i=Math.max(n.length,t.length);for(let s=0;s<i;s++){if(s>=t.length){(o=n[s])!=null&&o.parentNode&&(m(n[s]),e.removeChild(n[s]));continue}if(s>=n.length){const c=b(t[s],e);c&&e.appendChild(c);continue}ne(e,n[s],t[s])}}}function ke(e,t,n,r){t=t||{},n=n||{};for(const o in n)o==="key"||o==="ref"||o==="children"||o in t||lt(e,o,n[o]);for(const o in t)o==="key"||o==="ref"||o==="children"||t[o]!==n[o]&&ft(e,o,t[o],r);t.ref&&t.ref!==n.ref&&(typeof t.ref=="function"?t.ref(e):t.ref.current=e)}function ft(e,t,n,r){var o;if(t.startsWith("on")&&t.length>2){const i=t.slice(2).toLowerCase(),s=(o=e._events)==null?void 0:o[i];if(s&&s._original===n)return;s&&e.removeEventListener(i,s),e._events||(e._events={});const c=f=>Ke(()=>n(f));c._original=n,e._events[i]=c;const u=n._eventOpts;e.addEventListener(i,c,u||void 0);return}if(t==="className"||t==="class"){r?e.setAttribute("class",n||""):e.className=n||"";return}if(t==="style"){if(typeof n=="string")e.style.cssText=n,e._prevStyle=null;else if(typeof n=="object"){const i=e._prevStyle||{};for(const s in i)s in n||(e.style[s]="");for(const s in n)e.style[s]=n[s]??"";e._prevStyle={...n}}return}if(t==="dangerouslySetInnerHTML"){e.innerHTML=(n==null?void 0:n.__html)??"";return}if(t==="innerHTML"){n&&typeof n=="object"&&"__html"in n?e.innerHTML=n.__html??"":e.innerHTML=n??"";return}if(typeof n=="boolean"){n?e.setAttribute(t,""):e.removeAttribute(t);return}if(t.startsWith("data-")||t.startsWith("aria-")){e.setAttribute(t,n);return}if(r){n===!1||n==null?e.removeAttribute(t):e.setAttribute(t,n===!0?"":String(n));return}t in e?e[t]=n:e.setAttribute(t,n)}function lt(e,t,n){var r;if(t.startsWith("on")&&t.length>2){const o=t.slice(2).toLowerCase();(r=e._events)!=null&&r[o]&&(e.removeEventListener(o,e._events[o]),delete e._events[o]);return}if(t==="className"||t==="class"){e.className="";return}if(t==="style"){e.style.cssText="",e._prevStyle=null;return}if(t==="dangerouslySetInnerHTML"||t==="innerHTML"){e.innerHTML="";return}e.removeAttribute(t)}function K(e){const t=document.createElement("template");return t.innerHTML=e.trim(),()=>t.content.firstChild.cloneNode(!0)}function W(e,t,n){if(typeof t=="function"){let r=null;return k(()=>{r=de(e,t(),r,n||null)}),r}return de(e,t,null,n||null)}function ut(e){return!e||typeof e!="object"?!1:typeof Node<"u"&&e instanceof Node?!0:typeof e.nodeType=="number"&&typeof e.nodeName=="string"}function at(e){return!!e&&typeof e=="object"&&(e._vnode===!0||"tag"in e)}function dt(e){return typeof SVGElement<"u"&&e instanceof SVGElement&&e.tagName.toLowerCase()!=="foreignobject"}function ae(e){return e==null?[]:Array.isArray(e)?e:[e]}function Le(e,t,n){if(e==null||typeof e=="boolean")return n;if(Array.isArray(e)){for(let r=0;r<e.length;r++)Le(e[r],t,n);return n}return typeof e=="string"||typeof e=="number"?(n.push(document.createTextNode(String(e))),n):ut(e)?(n.push(e),n):at(e)?(n.push(b(e,t,dt(t))),n):(n.push(document.createTextNode(String(e))),n)}function ht(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function de(e,t,n,r){const o=r||null;if(t==null||typeof t=="boolean"){const f=ae(n);for(let l=0;l<f.length;l++){const a=f[l];a.parentNode===e&&(m(a),e.removeChild(a))}return null}if((typeof t=="string"||typeof t=="number")&&n&&!Array.isArray(n)&&n.nodeType===3){const f=String(t);return n.textContent!==f&&(n.textContent=f),n}const i=Le(t,e,[]),s=ae(n);if(ht(s,i))return n;const c=new Set(i);for(let f=0;f<s.length;f++){const l=s[f];!c.has(l)&&l.parentNode===e&&(m(l),e.removeChild(l))}let u=o;for(let f=i.length-1;f>=0;f--){const l=i[f];(l.parentNode!==e||l.nextSibling!==u)&&e.insertBefore(l,u),u=l}return i.length===0?null:i.length===1?i[0]:i}function V(e,t,n){if(t==="class"||t==="className")e.className=n||"";else if(t==="dangerouslySetInnerHTML")e.innerHTML=(n==null?void 0:n.__html)??"";else if(t==="innerHTML")n&&typeof n=="object"&&"__html"in n?e.innerHTML=n.__html??"":e.innerHTML=n??"";else if(t==="style"){if(typeof n=="string")e.style.cssText=n;else if(typeof n=="object")for(const r in n)e.style[r]=n[r]??""}else t.startsWith("data-")||t.startsWith("aria-")?e.setAttribute(t,n):typeof n=="boolean"?n?e.setAttribute(t,""):e.removeAttribute(t):t in e?e[t]=n:e.setAttribute(t,n)}function $(){const e=te();if(!e)throw new Error("[what] Hooks must be called inside a component function. If you need reactive state outside a component, use signal() directly.");return e}function H(e){const t=e.hookIndex++;return{index:t,exists:t<e.hooks.length}}let he=!1;function B(e){const t=$(),{index:n,exists:r}=H(t);if(!r){const i=P(typeof e=="function"?e():e);t.hooks[n]=i}const o=t.hooks[n];return[o(),o.set]}function O(e,t){const n=$(),{index:r,exists:o}=H(n);o||(n.hooks[r]={deps:void 0,cleanup:null});const i=n.hooks[r];je(i.deps,t)&&(queueMicrotask(()=>{n.disposed||(i.cleanup&&i.cleanup(),i.cleanup=e()||null)}),i.deps=t)}function re(e,t){const n=$(),{index:r,exists:o}=H(n);t===void 0&&!he&&(he=!0,console.warn("[what] useMemo() called without a deps array. This recomputes every render. Use useComputed() for signal-derived values, or pass deps to useMemo().")),o||(n.hooks[r]={value:void 0,deps:void 0});const i=n.hooks[r];return je(i.deps,t)&&(i.value=e(),i.deps=t),i.value}function $e(e,t){return re(()=>e,t)}function G(e){const t=$(),{index:n,exists:r}=H(t);return r||(t.hooks[n]={current:e}),t.hooks[n]}function Oe(e){let t=te();for(t||console.warn(`[what] useContext(${(e==null?void 0:e.displayName)||"Context"}) called outside of component render. useContext must be called during component rendering, not inside effects or event handlers. Store the context value in a variable during render and use that variable in your callback.`);t;){if(t._contextValues&&t._contextValues.has(e)){const n=t._contextValues.get(e);return n&&n._signal?n():n}t=t._parentCtx}return e._defaultValue}function Re(e){const t={_defaultValue:e,Provider:({value:n,children:r})=>{const o=$();if(o._contextValues||(o._contextValues=new Map),o._contextSignals||(o._contextSignals=new Map),o._contextSignals.has(t))o._contextSignals.get(t).set(n);else{const i=P(n);o._contextSignals.set(t,i),o._contextValues.set(t,i)}return r}};return t}function pt(e,t,n){const r=$(),{index:o,exists:i}=H(r);if(!i){const c=n?n(t):t,u=P(c),f=l=>{u.set(a=>e(a,l))};r.hooks[o]={signal:u,dispatch:f}}const s=r.hooks[o];return[s.signal(),s.dispatch]}function je(e,t){if(e===void 0||!e||!t||e.length!==t.length)return!0;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!0;return!1}const pe=e=>{let t;const n=new Set,r=(f,l)=>{const a=typeof f=="function"?f(t):f;if(!Object.is(a,t)){const h=t;t=l??(typeof a!="object"||a===null)?a:Object.assign({},t,a),n.forEach(p=>p(t,h))}},o=()=>t,c={setState:r,getState:o,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f))},u=t=e(r,o,c);return c},yt=e=>e?pe(e):pe,v=B,oe=O,ee=re,Ie=$e,j=G,se=Oe,ie=Re;function q(e,t,...n){t==null&&(t={});let r=null;if("ref"in t){r=t.ref;const{ref:i,...s}=t;t=s}typeof e=="string"&&("className"in t&&(t.class=t.className,delete t.className),"htmlFor"in t&&(t.for=t.htmlFor,delete t.htmlFor));const o=n.length<=1?E(e,t,n[0]):E(e,t,...n);return r&&(o._ref=r),o}function gt(e){function t(n){const{ref:r,...o}=n;return e(o,r||null)}return t.displayName=e.displayName||e.name||"ForwardRef",t._forwardRef=!0,t.$$typeof=Symbol.for("react.forward_ref"),t}function mt(){return{current:null}}const D={map(e,t){if(e==null)return[];const n=Array.isArray(e)?e:[e],r=[];let o=0;for(const i of n.flat(1/0))i==null||i===!1||i===!0||r.push(t(i,o++));return r},forEach(e,t){D.map(e,t)},count(e){return e==null?0:(Array.isArray(e)?e:[e]).flat(1/0).filter(n=>n!=null&&n!==!1&&n!==!0).length},toArray(e){return e==null?[]:(Array.isArray(e)?e:[e]).flat(1/0).filter(n=>n!=null&&n!==!1&&n!==!0)},only(e){const t=D.toArray(e);if(t.length!==1)throw new Error("React.Children.only expected to receive a single React element child.");return t[0]}};function Pe(e,t,...n){if(!e||!e._vnode)return e;const r={...e.props,...t},o=n.length>0?n:e.children,i=(t==null?void 0:t.key)!==void 0?t.key:e.key,s=E(e.tag,{...r,key:i},...[].concat(o||[]));return(t==null?void 0:t.ref)!==void 0?s._ref=t.ref:e._ref&&(s._ref=e._ref),s}function He(e){return typeof e=="object"&&e!==null&&(e._vnode===!0||e.$$typeof!==void 0)}function ce(e,t){return O(e,t)}function Be(e,t){return O(e,t)}function _t(e,t,n){ce(()=>{if(typeof e=="function"){const r=t();return e(r),()=>e(null)}else if(e&&typeof e=="object"){const r=t();return e.current=r,()=>{e.current=null}}},n)}let Ct=0;function Z(){const e=G(null);return e.current===null&&(e.current=":w"+(++Ct).toString(36)+":"),e.current}function xt(){}function bt(e,t,n){const[r,o]=B(()=>t()),i=G(t());return O(()=>{const s=()=>{const c=t();Object.is(i.current,c)||(i.current=c,o(c))};return s(),e(s)},[e,t]),r}function wt(){const[e,t]=B(!1);function n(r){t(!0),queueMicrotask(()=>{_e(()=>{r(),t(!1)})})}return[e,n]}function St(e){const[t,n]=B(e);return O(()=>{n(e)},[e]),t}function Et(e){queueMicrotask(()=>{_e(e)})}function Mt({children:e}){return e}class Y{constructor(t){this.props=t,this.state={},this._stateSignal=null,this._mounted=!1,this._forceUpdate=null}setState(t,n){const r=typeof t=="function"?{...this.state,...t(this.state,this.props)}:{...this.state,...t};this.state=r,this._forceUpdate&&this._forceUpdate(),n&&queueMicrotask(n)}forceUpdate(t){this._forceUpdate&&this._forceUpdate(),t&&queueMicrotask(t)}render(){return null}}Y.prototype.isReactComponent={};class Ne extends Y{shouldComponentUpdate(t,n){return!ye(this.props,t)||!ye(this.state,n)}}Ne.prototype.isPureReactComponent=!0;function ye(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n)if(!Object.is(e[o],t[o]))return!1;return!0}const Tt={ReactCurrentOwner:{current:null},ReactCurrentDispatcher:{current:null}},At="18.3.1",X={useState:B,useEffect:O,useLayoutEffect:ce,useInsertionEffect:Be,useMemo:re,useCallback:$e,useRef:G,useContext:Oe,useReducer:pt,useImperativeHandle:_t,useId:Z,useDebugValue:xt,useSyncExternalStore:bt,useTransition:wt,useDeferredValue:St,createElement:q,createContext:Re,createRef:mt,forwardRef:gt,cloneElement:Pe,isValidElement:He,Component:Y,PureComponent:Ne,Fragment:be,Suspense:Xe,StrictMode:Mt,memo:Ze,lazy:Qe,Children:D,startTransition:Et,version:At,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Tt},kt=e=>e;function Lt(e,t=kt){return X.useSyncExternalStore(e.subscribe,X.useCallback(()=>t(e.getState()),[e,t]),X.useCallback(()=>t(e.getInitialState()),[e,t]))}const ge=e=>{const t=yt(e),n=r=>Lt(t,r);return Object.assign(n,t),n},$t=e=>e?ge(e):ge,Ot=K('<div><p>Count:<strong id="zustand-count"><!--$--></strong></p><button>+</button><button>-</button><button>Reset</button><p style="color: green;" id="zustand-status">Zustand loaded OK</p></div>'),F=$t(e=>({count:0,increment:()=>e(t=>({count:t.count+1})),decrement:()=>e(t=>({count:t.count-1})),reset:()=>e({count:0})}));function Rt(){const e=F(o=>o.count),t=F(o=>o.increment),n=F(o=>o.decrement),r=F(o=>o.reset);return(()=>{const o=Ot(),s=o.childNodes[0].childNodes[1];return W(s,e,s.childNodes[0]),o.childNodes[1].addEventListener("click",t),o.childNodes[2].addEventListener("click",n),o.childNodes[3].addEventListener("click",r),o})()}function I(e,t,n){n!==void 0&&(t={...t,key:n});const{children:r,...o}=t||{};return r===void 0?q(e,o):Array.isArray(r)?q(e,o,...r):q(e,o,r)}const jt=ie({});function ze(e){const t=j(null);return t.current===null&&(t.current=e()),t.current}const Ve=ie(null),It=ie({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Pt extends Y{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ht({children:e,isPresent:t}){const n=Z(),r=j(null),o=j({width:0,height:0,top:0,left:0}),{nonce:i}=se(It);return Be(()=>{const{width:s,height:c,top:u,left:f}=o.current;if(t||!r.current||!s||!c)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return i&&(l.nonce=i),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${c}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),I(Pt,{isPresent:t,childRef:r,sizeRef:o,children:Pe(e,{ref:r})})}const Bt=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const c=ze(Nt),u=Z(),f=Ie(a=>{c.set(a,!0);for(const h of c.values())if(!h)return;r&&r()},[c,r]),l=ee(()=>({id:u,initial:t,isPresent:n,custom:o,onExitComplete:f,register:a=>(c.set(a,!1),()=>c.delete(a))}),i?[Math.random(),f]:[n,f]);return ee(()=>{c.forEach((a,h)=>c.set(h,!1))},[n]),oe(()=>{!n&&!c.size&&r&&r()},[n]),s==="popLayout"&&(e=I(Ht,{isPresent:n,children:e})),I(Ve.Provider,{value:l,children:e})};function Nt(){return new Map}function zt(e=!0){const t=se(Ve);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,i=Z();oe(()=>{e&&o(i)},[e]);const s=Ie(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,s]:[!0]}const U=e=>e.key||"";function me(e){const t=[];return D.forEach(e,n=>{He(n)&&t.push(n)}),t}const Vt=typeof window<"u",Ft=Vt?ce:oe,Ut=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:i="sync",propagate:s=!1})=>{const[c,u]=zt(s),f=ee(()=>me(e),[e]),l=s&&!c?[]:f.map(U),a=j(!0),h=j(f),p=ze(()=>new Map),[N,z]=v(f),[d,x]=v(f);Ft(()=>{a.current=!1,h.current=f;for(let y=0;y<d.length;y++){const g=U(d[y]);l.includes(g)?p.delete(g):p.get(g)!==!0&&p.set(g,!1)}},[d,l.length,l.join("-")]);const w=[];if(f!==N){let y=[...f];for(let g=0;g<d.length;g++){const T=d[g],J=U(T);l.includes(J)||(y.splice(g,0,T),w.push(T))}i==="wait"&&w.length&&(y=w),x(me(y)),z(f);return}const{forceRender:M}=se(jt);return I(be,{children:d.map(y=>{const g=U(y),T=s&&!c?!1:f===d||l.includes(g),J=()=>{if(p.has(g))p.set(g,!0);else return;let fe=!0;p.forEach(Fe=>{Fe||(fe=!1)}),fe&&(M==null||M(),x(h.current),s&&(u==null||u()),r&&r())};return I(Bt,{isPresent:T,initial:!a.current||n?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:o,mode:i,onExitComplete:T?void 0:J,children:y},g)})})},qt=K('<div><button>Toggle Animation</button><!--$--><p style="color: green;" id="framer-status">Framer Motion loaded OK</p></div>'),Wt=K('<undefined key="box"></undefined>');function Dt(){const[e,t]=v(!0);return(()=>{const n=qt();return n.childNodes[0].addEventListener("click",()=>t(o=>!o)),W(n,E(Ut,null,e&&(()=>{const o=Wt();return V(o,"initial",{opacity:0,y:20}),V(o,"animate",{opacity:1,y:0}),V(o,"exit",{opacity:0,y:-20}),V(o,"style",{width:"100px",height:"100px",background:"#2563eb",borderRadius:"12px",marginTop:"1rem"}),o})()),n.childNodes[1]),n})()}const Kt=K('<div style="font-family: system-ui; padding: 2rem;"><h1>what-react Compatibility Tests</h1><section><h2>Zustand</h2><!--$--></section><hr><section><h2>Framer Motion</h2><!--$--></section></div>');function Gt(){return(()=>{const e=Kt(),t=e.childNodes[1];W(t,E(Rt,null),t.childNodes[1]);const n=e.childNodes[3];return W(n,E(Dt,null),n.childNodes[1]),e})()}nt(E(Gt,null),"#app");
